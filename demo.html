<html>
  <head>
     <script src = "examples/js/jquery.js" type = "text/javascript"></script>
     <script src = "examples/js/prettyPrint.js" type = "text/javascript"></script>
     <script src = "Faker.js" type = "text/javascript"></script>

      <script>

          if(typeof JSON == 'undefined'){
            document.write('get a real browser that has JSON.stringify and JSON.parse built in <br/>');

            // implement JSON.stringify serialization
            var JSON = {};
            JSON.stringify = function (obj) {
            	var t = typeof (obj);
            	if (t != "object" || obj === null) {
            		// simple data type
            		if (t == "string") obj = '"'+obj+'"';
            		return String(obj);
            	}
            	else {
            		// recurse array or object
            		var n, v, json = [], arr = (obj && obj.constructor == Array);
            		for (n in obj) {
            			v = obj[n]; t = typeof(v);
            			if (t == "string") v = '"'+v+'"';
            			else if (t == "object" && v !== null) v = JSON.stringify(v);
            			json.push((arr ? "" : '"' + n + '":') + String(v));
            		}
            		return (arr ? "[" : "{") + String(json) + (arr ? "]" : "}");
            	}
            };
          }

          $(document).ready(function(e){
            
            var card = Faker.Helpers.createCard();
            $('#output').html(prettyPrint(card));
            
            $('#generate').click(function(){
              var card = Faker.Helpers.createCard();
              $('#output').html(prettyPrint(card));
            });
            
            $('#generateSet').click(function(){
              
              setTimeout(function(){
                var cards = [];
                for(var i = 0; i < $('#cardCount').val(); i++){
                  var card = Faker.Helpers.createCard();
                  cards.push(card);
                }
                $('#output').html('<textarea cols = "100" rows = "100">'+JSON.stringify(cards)+'</textarea>');
              }, 10);

            });
              
          });

      </script>
  </head>
  <body>
    <input id = "generate" type = "button" value = "generate one random card as HTML" />
    <input id = "generateSet" type = "button" value = "generate an assosative array of random cards as JSON" />
    card count : <input id = "cardCount" type = "text" size = "3" value = "5" /><br/><br/>
    <div id = "output"></div>
  </body>
</html>





